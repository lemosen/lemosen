<!--
  Generated template for the UpdateMobilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>修改手机号码</ion-title>
    </ion-navbar>

</ion-header>


<ion-content>
    <form [formGroup]="formGroup">
        <ion-list class="form-list">
            <ion-item>
                <ion-input type="number" formControlName="mobile" placeholder="请输入新手机号码" maxlength="11"></ion-input>
                <div *ngIf="formGroup.controls['mobile'].invalid && formGroup.controls['mobile'].dirty"
                     class="error-tip" item-content>{{ formGroup.controls['mobile'].errors|errorMessage}}
                </div>
            </ion-item>
            <ion-item>
                <ion-input type="number" formControlName="msmCode" placeholder="请输入手机验证码" (click)="getVerificationCode()" maxlength="6"></ion-input>
                <button ion-button item-right (click)="getVerificationCode()" [disabled]="time!=0">{{message}}</button>
                <div *ngIf="formGroup.controls['msmCode'].invalid && formGroup.controls['msmCode'].dirty"
                     class="error-tip" item-content>{{ formGroup.controls['msmCode'].errors|errorMessage}}
                </div>
            </ion-item>
        </ion-list>
        <p style="text-align: center;margin: 0 1rem">
            <button ion-button clear class="block-button" [disabled]="!formGroup.valid&&!submitted" block (click)="onSubmit()">
                提交
            </button>
        </p>
    </form>
</ion-content>
