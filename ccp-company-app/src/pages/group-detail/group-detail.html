<!--
  Generated template for the GroupDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>{{chatRoom?.naturalName}}</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>


    <div margin-bottom="20">
        <div text-center style="margin-top: 2rem">
            <img style="width: 8rem;height: 8rem;border-radius: 50%;" src="{{imgUrl+chatRoom?.avatarImg }}" onerror="this.src='assets/imgs/avatar.png'"
                 (click)="changeAvatarImg()">
            <p>{{chatRoom?.description}}</p>
        </div>

        <div style="float:left; margin:6px;" *ngFor="let author of chatRoom?.authors">
            <img src="{{imgUrl+author.portraitUrl }}" onerror="this.src='assets/imgs/avatar.png'" style="width: 36px;height: 36px;border-radius: 50%;"/>
            <p style="margin-top: 0;text-align: center;">{{author.authorName}}</p>
        </div>
        <div style="float:left; margin:6px;" (click)="chooseStaffs()">
            <img src="assets/img/add.png" style="width: 36px;height: 36px;border-radius: 50%;">
        </div>
        <div *ngIf="isAdmin" style="float:left; margin:6px;"  (click)="removeStaffs()">
            <img src="assets/img/remove.png" style="width: 36px;height: 36px;border-radius: 50%;">
        </div>
    </div>

    <ion-list class="common-list">
        <ion-item (click)="changeGroupName()">
            <ion-label>群名称</ion-label>
            <ion-label item-end text-end>{{chatRoom?.naturalName}}</ion-label>
        </ion-item>
        <ion-item (click)="changeDescription()">
            <ion-label>群描述</ion-label>
            <ion-label item-end text-end>{{chatRoom?.description}}</ion-label>
        </ion-item>
    </ion-list>

</ion-content>
<ion-footer>
    <ion-buttons>
        <button ion-button clear block (click)="quitChatRoom()">
            退出群聊
        </button>
    </ion-buttons>
</ion-footer>
