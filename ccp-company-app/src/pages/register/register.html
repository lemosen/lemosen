<!--
  Generated template for the RegisterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>注册</ion-title>
    </ion-navbar>

</ion-header>


<ion-content>
    <ion-list class="form-list">
        <form [formGroup]="formGroup">
            <ion-item-group>
                <ion-item-divider>基本信息</ion-item-divider>
                <ion-item>
                    <ion-label>用户名</ion-label>
                    <ion-input type="text" formControlName="accountName" placeholder="请输入用户名" maxlength="20"></ion-input>
                    <div *ngIf="formGroup.controls['accountName'].invalid && formGroup.controls['accountName'].dirty"
                         class="error-tip" item-content>{{ formGroup.controls['accountName'].errors|errorMessage}}
                    </div>
                </ion-item>
                <ion-item>
                    <ion-label>手机号码</ion-label>
                    <ion-input type="number" formControlName="mobile" placeholder="请输入手机号码" maxlength="11"></ion-input>
                    <div *ngIf="formGroup.controls['mobile'].invalid && formGroup.controls['mobile'].dirty"
                         class="error-tip" item-content>{{ formGroup.controls['mobile'].errors|errorMessage}}
                    </div>
                </ion-item>
                <ion-item>
                    <ion-input type="number" formControlName="msmCode" placeholder="请输入验证码" maxlength="6"></ion-input>
                    <button ion-button item-right (click)="getVerificationCode()" [disabled]="time!=0">{{message}}</button>
                    <div *ngIf="formGroup.controls['msmCode'].invalid && formGroup.controls['msmCode'].dirty"
                         class="error-tip" item-content>{{ formGroup.controls['msmCode'].errors|errorMessage}}
                    </div>
                </ion-item>
                <ion-item>
                    <ion-label>邮箱</ion-label>
                    <ion-input type="text" formControlName="email" placeholder="请输入邮箱" maxlength="32"></ion-input>
                    <div *ngIf="formGroup.controls['email'].invalid && formGroup.controls['email'].dirty"
                         class="error-tip" item-content>{{ formGroup.controls['email'].errors|errorMessage}}
                    </div>
                </ion-item>
                <ion-item>
                    <ion-label>密码</ion-label>
                    <ion-input type="password" formControlName="password" placeholder="请输入密码" maxlength="16"></ion-input>
                    <div *ngIf="formGroup.controls['password'].invalid && formGroup.controls['password'].dirty"
                         class="error-tip" item-content>{{ formGroup.controls['password'].errors|errorMessage}}
                    </div>
                </ion-item>
                <ion-item>
                    <ion-label>确认密码</ion-label>
                    <ion-input type="password" formControlName="rePassword" placeholder="*请再次输入密码" maxlength="16"></ion-input>
                    <div *ngIf="formGroup.controls['rePassword'].invalid && formGroup.controls['rePassword'].dirty"
                         class="error-tip" item-content>{{ formGroup.controls['rePassword'].errors|errorMessage}}
                    </div>
                </ion-item>

            </ion-item-group>
        </form>
    </ion-list>
    <p style="text-align: center;margin: 0 1rem">
        <button ion-button clear class="block-button" [disabled]="!formGroup.valid&&!submitted" block (click)="onSubmit()">
            注册
        </button>
    </p>
</ion-content>
